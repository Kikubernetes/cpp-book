# ディープコピーとシャローコピー

## ディープコピー
C++ のコピーは基本的にはディープコピーと呼ばれるものです。

ディープコピーは実体ごとコピーされるため、コピーした分のメモリ領域の確保が必要になります。
ディープコピーの場合、コピー先（or コピー元）のオブジェクトを編集しても、他方のオブジェクトには影響を及ぼしません。

<!-- MEMO: 図示する？ -->

```cpp
int x = 100;
int y = x; // x を y へディープコピー
y = 50;; // y を 50 に書き換える
std::cout << x << std::endl; // x は100のまま
```

## シャローコピー

ポインタをコピーする場合はシャローコピーになります。

シャローコピーではポインタの向き先だけがコピーされ、実体はコピー元の領域のままなので、
ディープコピーのようなコピーした分のメモリの確保は起きません。

<!-- MEMO: 図示する？ -->

```cpp
int* x = new int(100);
int* y = x; // x を y へシャローコピー
*y = 50; // y を 50 に書き換える
std::cout << *x << std::endl; // x も 50 になる
```

参照の場合も、ポインタと同様にシャローコピーになります。